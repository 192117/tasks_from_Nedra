# Сервис-калькулятор на FastAPI

_Калькулятор оформлен с использованием обратной польской нотации (для выражений без использования скобок). Так как по заданию было ограничение в хранение до 
30 обьектов, значения хранятся в локальной памяти программы._

Для запуска сервиса необходимо, находясь в директории с программой, в терминале прописать:

```uvicorn app:app```

Для работы с API сервисом можно использовать [стандартный локальный хост и порт]('http://127.0.0.1:8000/docs').

### Описание конечный точек и методов к ним

1. __/calc__
    
    Поддерживает GET и POST запросы. В случае корректного запроса выдает ответ, в случае пустого запроса пробрасывает
__ValueError__ или в случае некорректного (неподходящего под условия) возвращает сообщение о некоретном запросе (но 
записывает их в память со статусом "fail") . Если в локальной памяти находится уже 
30 обьектов, то удаляет самый первый  и записывает новый в конец. 

2. __/history__

    Поддерживает GET и POST запросы. В случае GET запроса выдает все значения, которые записаны в памяти. В случае POST 
запроса необходимо указать параметры (limit и status). В случае неправильно указаных параметров пробрасывает для каждого
соотвествующее __ValueError__ .   

### Описание назначений каждого модуля сервиса

1. _calc.py_
    
    Происходит вся основная деятельность с обработкой первичных данных, преобразованием к обртаной польской нотации и 
вычисление выражения.

2. _models.py_

    Описаны модели для запросов и ответа. Прописана валидация принимаемых параметров, в случае неудовлетворения
выбрасывается исключение __ValueError__.

3. _app.py_

    Основной модуль, откуда запускается сервис. Описана логика отправки и приемки полученных данных.

### Тестирование сервиса

Для запуска теста необходимо, находясь в директории с программой, в терминале прописать:

```pytest```

Тесты описаны в модуле _test_app.py_
